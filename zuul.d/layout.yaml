---
- project:
    templates:
    - edpm-ansible-molecule-jobs
    - release-notes-jobs-python3
    - openstack-python3-jobs
    - edpm-external-compute-deployment-pipeline
    - edpm-standalone-scenarios-pipeline
    check:
      jobs:
      - tripleo-ci-centos-9-content-provider:
          dependencies:
            - openstack-tox-linters
      - openstack-tox-linters
      # - openstack-tox-docs: &tripleo-docs
      #     files:
      #     - ^doc/.*
      #     - ^molecule-requirements.txt
      #     - ^README.rst
      #     - ^requirements.txt
      #     - ^tripleo_ansible/ansible_plugins/.*

    gate:
      jobs:
      - edpm-ci-centos-9-content-provider
      - openstack-tox-linters
      # - openstack-tox-docs: *tripleo-docs
    post:
      jobs:
      - publish-openstack-python-branch-tarball
    # promote:
    #   jobs:
    #   - promote-openstack-tox-docs: *tripleo-docs
